---
title: Tipi di identit√†
---
classDiagram
direction LR
    class AuthUser {
        <<Interface>>
        +shib_authsource: String 
    } 
    class UnipdUser {
        <<Abstract>>
        +shib_extid: String 
        +shib_id: String ~~ PKEY ~~
        +shib_codicefiscale: String 
        +shib_givenname: String 
        +shib_sn: String 
        +shib_authsource: String = 'LOCAL'      
    }
    class ActiveUser {
        <<Abstract>>
        +shib_mail: String
    }
    class Alumni {
        +shib_edupersonscopedaffiliation: String[] = ['alum@unipd.it]
    }
    class Student {
        +shib_edupersonscopedaffiliation: String[] = ['member@unipd.it', 'student@unipd.it']
    }
    class Staff {
        +shib_edupersonscopedaffiliation: String[] = ['member@unipd.it', 'staff@unipd.it']
    }
    class External {}

    class Idem {        
        +shib_esi: String
        +shib_mail: String
    }
    class SPID {        
        +spid_spidCode: String ~~ PKEY ~~
        +spid_email: String 
        +spid_fiscalNumber: String
        +spid_ivaCode: String
        +shib_authsource:String = 'SPID'
    }
    class CIE {
        +spid_spidCode: String ~~ PKEY ~~
        +spid_email: String 
        +spid_fiscalNumber: String
        +spid_ivaCode: String
        +shib_authsource:String = 'CIE'
    }

    note for Student "shib_id must match /^[\\w.-]+\@studenti.unipd.it$/"
    note for Alumni "shib_id must match /^[\\w.-]+\@studenti.unipd.it$/"
    note for Staff "shib_id and shib_mail must match /^[\\w.-]+\@unipd.it$/"
    note for External "shib_id and shib_mail must match /^[\\w.-]+\@unipd.it$/"
    note for Idem "?????"

    AuthUser <|.. UnipdUser


    AuthUser <|.. SPID
    AuthUser <|.. CIE


    UnipdUser <|-- Alumni
    UnipdUser <|-- ActiveUser
    ActiveUser <|-- Student
    ActiveUser <|-- Staff
    ActiveUser <|-- External


    class Alumni:::Rose
    class Student:::Unipd
    class Staff:::Unipd
    class External:::Unipd
    class SPID:::Citizen
    class CIE:::Citizen
    class Idem:::Dunno

    classDef Rose :,stroke-width:1px, stroke-dasharray:none, stroke:#FF5978, fill:#FFDFE5, color:#8E2236
    classDef Unipd :,stroke-width:1px, stroke-dasharray:none, stroke:#FFFFFF, fill:#880000, color:#FFFFFF
    classDef Citizen :,stroke-width:1px, stroke-dasharray:none, stroke:#FFFFFF, fill:#0066cc, color:#FFFFFF
    classDef Dunno :,stroke-width:1px, stroke-dasharray:5 5, stroke:#FFFFFF, fill:#333333, color:#FFFFFF
