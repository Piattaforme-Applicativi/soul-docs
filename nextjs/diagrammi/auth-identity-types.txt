---
title: Tipi di identit√†
---
classDiagram
direction LR
    class AuthUser {
    	<<Interface>>
    } 
    class UnipdUser {
    	<<Abstract>>
	    +String shib_extid
	    +String shib_id ~~ PKEY ~~
	    +String shib_codicefiscale
	    +String shib_givenname
	    +String shib_sn
	    +String shib_authsource = 'LOCAL'    	
    }
    class Federation {
    	<<Interface>>
    } 
    class Citizen {
    	<<Abstract>>
    	+String spid_spidCode
	    +String spid_email ~~ PKEY ~~
	    +String spid_fiscalNumber
	    +String spid_ivaCode
    } 
    class ActiveUser {
    	+String shib_mail
    }
    class Alumni {
    	+String[] shib_edupersonscopedaffiliation = [ 'alum@unipd.it' ]
    }
    class Student {
	    +String[] shib_edupersonscopedaffiliation = [ 'member@unipd.it', 'student@unipd.it' ]
    }
    class Staff {
    	+String[] shib_edupersonscopedaffiliation = [ 'member@unipd.it', 'staff@unipd.it' ]
    }
    class External {}

    class Idem {	    
    	+String shib_esi
	    +String shib_mail
    }
    class SPID {
	    +String shib_authsource = 'SPID'
    }
    class CIE {
	    +String shib_authsource = 'CIE'
    }

    note for Student "shib_id must match /^[\\w.-]+\@studenti.unipd.it$/"
    note for Alumni "shib_id must match /^[\\w.-]+\@studenti.unipd.it$/"
	note for Staff "shib_id and shib_mail must match /^[\\w.-]+\@unipd.it$/"
	note for External "shib_id and shib_mail must match /^[\\w.-]+\@unipd.it$/"

    AuthUser <|.. Federation
    AuthUser <|.. UnipdUser


    Federation <|.. Idem
    Federation <|.. Citizen
    Citizen <|-- SPID
    Citizen <|-- CIE


    UnipdUser <|-- Alumni
    UnipdUser <|-- ActiveUser
    ActiveUser <|-- Student
    ActiveUser <|-- Staff
    ActiveUser <|-- External


	class Alumni:::Rose
	class Student:::Unipd
	class Staff:::Unipd
	class External:::Unipd
	class SPID:::Citizen
	class CIE:::Citizen

	classDef Rose :,stroke-width:1px, stroke-dasharray:none, stroke:#FF5978, fill:#FFDFE5, color:#8E2236
	classDef Unipd :,stroke-width:1px, stroke-dasharray:none, stroke:#FFFFFF, fill:#880000, color:#FFFFFF
	classDef Citizen :,stroke-width:1px, stroke-dasharray:none, stroke:#FFFFFF, fill:#0066cc, color:#FFFFFF
